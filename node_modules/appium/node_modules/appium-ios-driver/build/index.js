#!/usr/bin/env node

require('source-map-support').install();

'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _interopRequireWildcard = require('babel-runtime/helpers/interop-require-wildcard')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _yargs = require('yargs');

var _yargs2 = _interopRequireDefault(_yargs);

var _asyncbox = require('asyncbox');

var _libServer = require('./lib/server');

var _libDriver = require('./lib/driver');

var _libDesiredCaps = require('./lib/desired-caps');

var _libCommandsIndex = require('./lib/commands/index');

var _libSettings = require('./lib/settings');

var settings = _interopRequireWildcard(_libSettings);

var _libDevice = require('./lib/device');

var device = _interopRequireWildcard(_libDevice);

var _libUtils = require('./lib/utils');

var _libUtils2 = _interopRequireDefault(_libUtils);

var DEFAULT_HOST = "localhost";
var DEFAULT_PORT = 4723;

function main() {
  var port, host;
  return _regeneratorRuntime.async(function main$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        port = _yargs2['default'].argv.port || DEFAULT_PORT;
        host = _yargs2['default'].argv.host || DEFAULT_HOST;
        return context$1$0.abrupt('return', (0, _libServer.startServer)(port, host));

      case 3:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
}

if (require.main === module) {
  (0, _asyncbox.asyncify)(main);
}

exports.IosDriver = _libDriver.IosDriver;
exports.desiredCapConstraints = _libDesiredCaps.desiredCapConstraints;
exports.desiredCapValidation = _libDesiredCaps.desiredCapValidation;
exports.commands = _libCommandsIndex.commands;
exports.iosCommands = _libCommandsIndex.iosCommands;
exports.settings = settings;
exports.device = device;
exports.defaultServerCaps = _libDriver.defaultServerCaps;
exports.utils = _libUtils2['default'];
exports['default'] = _libDriver.IosDriver;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztxQkFHa0IsT0FBTzs7Ozt3QkFDQSxVQUFVOzt5QkFDUCxjQUFjOzt5QkFDRyxjQUFjOzs4QkFDQyxvQkFBb0I7O2dDQUMxQyxzQkFBc0I7OzJCQUNsQyxnQkFBZ0I7O0lBQTlCLFFBQVE7O3lCQUNJLGNBQWM7O0lBQTFCLE1BQU07O3dCQUNBLGFBQWE7Ozs7QUFHL0IsSUFBTSxZQUFZLEdBQUcsV0FBVyxDQUFDO0FBQ2pDLElBQU0sWUFBWSxHQUFHLElBQUksQ0FBQzs7QUFFMUIsU0FBZSxJQUFJO01BQ2IsSUFBSSxFQUNKLElBQUk7Ozs7QUFESixZQUFJLEdBQUcsbUJBQU0sSUFBSSxDQUFDLElBQUksSUFBSSxZQUFZO0FBQ3RDLFlBQUksR0FBRyxtQkFBTSxJQUFJLENBQUMsSUFBSSxJQUFJLFlBQVk7NENBQ25DLDRCQUFZLElBQUksRUFBRSxJQUFJLENBQUM7Ozs7Ozs7Q0FDL0I7O0FBRUQsSUFBSSxPQUFPLENBQUMsSUFBSSxLQUFLLE1BQU0sRUFBRTtBQUMzQiwwQkFBUyxJQUFJLENBQUMsQ0FBQztDQUNoQjs7UUFFUSxTQUFTO1FBQUUscUJBQXFCO1FBQUUsb0JBQW9CO1FBQUUsUUFBUTtRQUNoRSxXQUFXO1FBQUUsUUFBUSxHQUFSLFFBQVE7UUFBRSxNQUFNLEdBQU4sTUFBTTtRQUFFLGlCQUFpQjtRQUFFLEtBQUsiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vIHRyYW5zcGlsZTptYWluXG5cbmltcG9ydCB5YXJncyBmcm9tICd5YXJncyc7XG5pbXBvcnQgeyBhc3luY2lmeSB9IGZyb20gJ2FzeW5jYm94JztcbmltcG9ydCB7IHN0YXJ0U2VydmVyIH0gZnJvbSAnLi9saWIvc2VydmVyJztcbmltcG9ydCB7IElvc0RyaXZlciwgZGVmYXVsdFNlcnZlckNhcHMgfSBmcm9tICcuL2xpYi9kcml2ZXInO1xuaW1wb3J0IHsgZGVzaXJlZENhcENvbnN0cmFpbnRzLCBkZXNpcmVkQ2FwVmFsaWRhdGlvbiB9IGZyb20gJy4vbGliL2Rlc2lyZWQtY2Fwcyc7XG5pbXBvcnQgeyBjb21tYW5kcywgaW9zQ29tbWFuZHMgfSBmcm9tICcuL2xpYi9jb21tYW5kcy9pbmRleCc7XG5pbXBvcnQgKiBhcyBzZXR0aW5ncyBmcm9tICcuL2xpYi9zZXR0aW5ncyc7XG5pbXBvcnQgKiBhcyBkZXZpY2UgZnJvbSAnLi9saWIvZGV2aWNlJztcbmltcG9ydCB1dGlscyBmcm9tICcuL2xpYi91dGlscyc7XG5cblxuY29uc3QgREVGQVVMVF9IT1NUID0gXCJsb2NhbGhvc3RcIjtcbmNvbnN0IERFRkFVTFRfUE9SVCA9IDQ3MjM7XG5cbmFzeW5jIGZ1bmN0aW9uIG1haW4gKCkge1xuICBsZXQgcG9ydCA9IHlhcmdzLmFyZ3YucG9ydCB8fCBERUZBVUxUX1BPUlQ7XG4gIGxldCBob3N0ID0geWFyZ3MuYXJndi5ob3N0IHx8IERFRkFVTFRfSE9TVDtcbiAgcmV0dXJuIHN0YXJ0U2VydmVyKHBvcnQsIGhvc3QpO1xufVxuXG5pZiAocmVxdWlyZS5tYWluID09PSBtb2R1bGUpIHtcbiAgYXN5bmNpZnkobWFpbik7XG59XG5cbmV4cG9ydCB7IElvc0RyaXZlciwgZGVzaXJlZENhcENvbnN0cmFpbnRzLCBkZXNpcmVkQ2FwVmFsaWRhdGlvbiwgY29tbWFuZHMsXG4gICAgICAgICBpb3NDb21tYW5kcywgc2V0dGluZ3MsIGRldmljZSwgZGVmYXVsdFNlcnZlckNhcHMsIHV0aWxzIH07XG5cbmV4cG9ydCBkZWZhdWx0IElvc0RyaXZlcjtcbiJdLCJzb3VyY2VSb290IjoiLi4ifQ==
